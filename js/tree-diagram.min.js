/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2022 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

var root,treeData=[{name:"투입 에너지 (100%)",parent:"null",children:[{name:"열변환",parent:"투입 에너지 (100%)",children:[{name:"메탈 용용 (57%)",parent:"열변환"},{name:"물질손실",parent:"열변환",children:[{name:"슬래그 (1%)",parent:"물질손실"}]},{name:"열손실",parent:"열변환",children:[{name:"복사손실 (8%)",parent:"열손실"},{name:"전도-대류손실 (4%)",parent:"열손실"},{name:"냉각수 손실 (20%)",parent:"열손실"}]}]},{name:"코일손실",parent:"투입 에너지 (100%)",children:[{name:"도선 저항 (3%)",parent:"코일손실"}]},{name:"전기손실",parent:"투입 에너지 (100%)",children:[{name:"인버터 (7%)",parent:"전기손실"}]}]}],margin={top:20,right:120,bottom:20,left:120},width=800-margin.right-margin.left,height=500-margin.top-margin.bottom,i=0,duration=750,tree=d3.layout.tree().size([height,width]),diagonal=d3.svg.diagonal().projection(function(t){return[t.y,t.x]}),svg=d3.select("#d3Load").append("svg").attr("width",width+margin.right+margin.left).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");function update(n){var t=tree.nodes(root).reverse(),e=tree.links(t),r=(t.forEach(function(t){t.y=180*t.depth}),svg.selectAll("g.node").data(t,function(t){return t.id||(t.id=++i)})),a=r.enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+n.y0+","+n.x0+")"}).on("click",click),a=(a.append("circle").attr("r",1e-6).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),a.append("text").attr("x",function(t){return t.children||t._children?-13:13}).attr("dy",".35em").attr("text-anchor",function(t){return t.children||t._children?"end":"start"}).text(function(t){return t.name}).style("fill-opacity",1e-6),r.transition().duration(duration).attr("transform",function(t){return"translate("+t.y+","+t.x+")"})),a=(a.select("circle").attr("r",10).style("fill",function(t){return t._children?"lightsteelblue":"#fff"}),a.select("text").style("fill-opacity",1),r.exit().transition().duration(duration).attr("transform",function(t){return"translate("+n.y+","+n.x+")"}).remove()),r=(a.select("circle").attr("r",1e-6),a.select("text").style("fill-opacity",1e-6),svg.selectAll("path.link").data(e,function(t){return t.target.id}));r.enter().insert("path","g").attr("class","link").attr("d",function(t){var e={x:n.x0,y:n.y0};return diagonal({source:e,target:e})}),r.transition().duration(duration).attr("d",diagonal),r.exit().transition().duration(duration).attr("d",function(t){var e={x:n.x,y:n.y};return diagonal({source:e,target:e})}).remove(),t.forEach(function(t){t.x0=t.x,t.y0=t.y})}function click(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null),update(t)}(root=treeData[0]).x0=height/2,root.y0=0,update(root),d3.select(self.frameElement).style("height","500px");